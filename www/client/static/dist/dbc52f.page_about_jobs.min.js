/*!
 * Ashe v0.0.1
 * Powered by TFCloud.
 */

!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=23)}({23:function(t,e,n){function r(t){t.addEventListener("click",function(e){var n=s(e.target),r=y(t,e.target),o=h(e.target,"LI");!o||n||r?o&&!n&&r&&(a(t),C(p(e.target)),e.target.setAttribute("class","select"),i(),M(),w()):(u(t),e.target.setAttribute("class","select"),g(e.target),T(),i(),M(),w())})}function i(){o(_,R),l(S)}function o(t,e){1===t.children.length?l(e):c(e)}function c(t){t.setAttribute("style","display: none;")}function l(t){t.setAttribute("style","display: block;")}function a(t){for(var e=t.children,n=e.length,r=1;r<n;r++)e[r].removeAttribute("class")}function u(t){var e=t.children[0];d(e)&&e.removeAttribute("class")}function s(t){return"select"===t.getAttribute("class")}function d(t){return t.getAttribute("class")}function p(t){return t.getAttribute("key")}function f(t){return t.getAttribute("value")}function y(t,e){return t.children[0]===e}function h(t,e){return t&&t.nodeName==e}function m(t){switch(t){case"c":return 0==D.length;case"r":return 0==F.length;case"t":return 0==J.length}}function b(t){t.children[0].setAttribute("class","select")}function g(t){var e=t.innerText,n=p(t),r=f(t),i=document.createElement("li");i.setAttribute("key",n),i.setAttribute("value",r),i.innerHTML=e+'<i class="icon-close"></i>',_.appendChild(i),U(n,j,r)}function v(t){return function(e,n,r){switch(e){case"c":n(t[0],r);break;case"r":n(t[1],r);break;case"t":n(t[2],r)}}}function A(t,e){var n=t.children;Array.prototype.map.call(n,function(t){f(t)===e&&t.removeAttribute("class")})}function C(t){Array.prototype.slice.call(_.children,0).map(function(e){var n=p(e),r=f(e);n===t&&(_.removeChild(e),U(t,x,r))})}function j(t,e){t.push(e)}function x(t,e){var n=t.indexOf(e);t.splice(n,1)}function E(t){for(var e=t.length,n=0;n<e;n++){var r=k(t[n]);G.appendChild(r)}}function k(t){var e=document.createElement("li"),n=I("title");n.innerHTML=t.title;var r=I("content"),i=I("footer");i.innerHTML='<a href="mailto:zhaopin@unitedstack.com" class="btn-join">申请加入同方有云</a>';var o=L("job-type","职位类型：",t.type),c=L("job-city","工作地点：",t.location.join("，")),l=L("job-responsibility","岗位职责：",t.description),a=L("job-requirements","任职要求：",t.requirement),u=L("plus","加分项：",t.preferred),s=L("email","投递邮箱：",'<a href="mailto:zhaopin@unitedstack.com">zhaopin@unitedstack.com</a>');return e.appendChild(n),r.appendChild(o),r.appendChild(c),r.appendChild(l),r.appendChild(a),""!=t.preferred&&r.appendChild(u),r.appendChild(s),e.appendChild(r),e.appendChild(i),e.city=t.location,e.role=t.role,e.type=t.type,e}function I(t){var e=document.createElement("div");return e.setAttribute("class",t),e}function L(t,e,n){var r=I(t),i=I("label");i.innerHTML=e;var o=I("content");return o.innerHTML=n,r.appendChild(i),r.appendChild(o),r}function T(){var t=Array.prototype.slice.call(G.children,1);Array.prototype.map.call(t,function(t){t.setAttribute("style","display: none;")})}function B(){var t=Array.prototype.slice.call(G.children,1);Array.prototype.map.call(t,function(t){t.setAttribute("style","display: block;")})}function O(t){t.setAttribute("style","display: block;")}function M(){var t=Array.prototype.slice.call(G.children,1),e=0,n=0,r=0,i=D.length,o=F.length,c=J.length;Array.prototype.map.call(t,function(t){t.city.map(function(t){i>0&&-1!=D.indexOf(t)&&e++}),o>0&&-1!=F.indexOf(t.role)&&n++,c>0&&-1!=J.indexOf(t.type)&&r++,H(t,e,n,r),e=0,n=0,r=0})}function H(t,e,n,r){var i=D.length,o=F.length,l=J.length;i>0&&0==o&&0==l?e>0&&(c(S),O(t)):i>0&&o>0&&0==l?e>0&&n>0&&(c(S),O(t)):i>0&&0==o&&l>0?e>0&&r>0&&(c(S),O(t)):i>0&&o>0&&l>0?e>0&&n>0&&r>0&&(c(S),O(t)):0==i&&o>0&&0==l?n>0&&(c(S),O(t)):0==i&&o>0&&l>0?n>0&&r>0&&(c(S),O(t)):0==i&&0==o&&l>0?r>0&&(c(S),O(t)):(c(S),B())}function w(){0!=_.length?_.setAttribute("style","padding-bottom: 6px;"):_.setAttribute("style","padding-bottom: 16px;")}n(24);var z,q=document.getElementById("selectCity"),N=document.getElementById("selectRole"),P=document.getElementById("selectType"),_=document.getElementById("selectShow"),G=document.getElementById("jobList"),R=document.getElementById("select-before"),S=document.getElementById("select-after"),D=[],F=[],J=[],K=[],Q=[],U=v(K),V=v(Q);j(K,D),j(K,F),j(K,J),j(Q,q),j(Q,N),j(Q,P),r(q),r(N),r(P),function(t){t.addEventListener("click",function(t){var e=h(t.target,"I"),n=t.target.parentNode,r=p(n),o=f(n);e&&(_.removeChild(n),V(r,A,o),U(r,x,o),T(),i(),M(),w(),m(r)&&V(r,b))})}(_),$.ajax({method:"GET",url:"/api/job",dataType:"json"}).done(function(t){z=t.jobs,E(z)}).fail(function(t){console.log(t)})},24:function(t,e){}});