/*!
 * Ashe v0.0.1
 * Powered by TFCloud.
 */

!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=65)}({0:function(t,e,i){function n(){var t=this;this.defaultOptions={isMobile:!1,isCaptcha:!0,onSendRequest:function(){t.destroy()},opacity:.8,zIndex:1e3,width:250,height:192}}i(1),n.prototype.setOptions=function(t){this.options=$.extend(!1,{},this.defaultOptions,t),this._setModal()},n.prototype.show=function(){var t=this.modal?this.modal:this._getModalElem(),e=this.mask?this.mask:this._getMaskElem(),i=window.getComputedStyle(t).display;document.getElementById("mask")?"none"===i&&(t.style.display="block",e.style.display="block"):(document.body.appendChild(e),document.body.appendChild(t),t.style.display="block",e.style.display="block"),document.addEventListener("click",this.removeModal.bind(this))},n.prototype.removeModal=function(t){t.target===this.mask&&this.destroy()},n.prototype.hide=function(){var t=this.mask,e=this.modal;t.style.display="none",e.style.display="none"},n.prototype._setModal=function(){var t=this.modal?this.modal:this._getModalElem();this._setModalContent(t)},n.prototype._getMaskElem=function(){var t=document.getElementById("modal-mask");t||(t=document.createElement("div"),t.id="modal-mask");var e="position: fixed; top: 0; left: 0; bottom: 0; right: 0;background: black; opacity:"+this.options.opacity+"; z-index: "+this.options.zIndex+"; display: none;";return t.style.cssText=e,this.mask=t},n.prototype._getModalElem=function(){var t=document.getElementById("modal");t||(t=document.createElement("div"),t.id="modal");var e="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; z-index: "+(this.options.zIndex+1)+"; display: none; border-radius: 2px;";return this.options.isMobile?e+=" width: 375px; height: 194px;":e=e+" width:"+this.options.width+"px; height: "+this.options.height+"px",t.style.cssText=e,this.modal=t},n.prototype._setModalContent=function(t){var e=this,i=document.createElement("div");i.id="captcha-wrapper",i.style="width: 100%; height: 100%";var n=document.createElement("div");n.id="captcha-text",n.innerHTML="请输入验证码，完成验证",this.options.isMobile?n.style.cssText="margin: 34px 0 11px 46px; line-height: 24px; font-size: 12px; letter-spacing: .55px; color: #333":n.style.cssText="margin: 60px 0 20px 88px; line-height: 30px; font-size: 22px; letter-spacing: 1px; color: #333";var o=document.createElement("div");o.id="captcha-input-wrapper",o.style="height: 42px;";var a=document.createElement("input");a.id="captcha-input",a.type="text";var s="padding: 5px 10px; border: 1px solid #D8D8D8;border-radius: 2px; color: #333; vertical-align: top;";this.options.isMobile?a.style.cssText=s+" width: 176px; margin-left: 46px; line-height: 24px; font-size: 12px;":a.style.cssText=s+" width: 250px; margin-left: 88px; line-height: 30px; font-size: 22px;";var r=(new Date).getTime(),d="/api/tool/captcha?"+String(r).slice(-8),c=new Image;c.src=d;var p="display: inline-block; margin-left: 11px; cursor: pointer;";this.options.isMobile?c.style.cssText=p+" width: 76px; height: 33px;":c.style.cssText=p+" width: 91px; height: 40px;",c.addEventListener("click",this._updateCaptcha);var l=document.createElement("button");l.id="submit-captcha",l.innerHTML="确定";var h="display: block; font-weight: 200; color: #fff; background: #0280DF; border-radius: 2px; border: none; line-height: 28px; outline: none; cursor: pointer;";this.options.isMobile?l.style.cssText=h+" margin: 21px auto; padding: 3.9px 31px 3.1px 31px; font-size: 14px; letter-spacing: 0.33px;":l.style.cssText=h+" margin: 34px auto; padding: 11px 37px 11px 38px; font-size: 18px; letter-spacing: 0.5px;",l.addEventListener("click",function(t){t.preventDefault();var i=document.getElementById("captcha-input").value.trim(),n=document.getElementById("submit-captcha");$(n).prop("disabled",!0),e.options.onSendRequest(i,e.showTip.bind(e))}),o.appendChild(a),o.appendChild(c),i.appendChild(n),i.appendChild(o),i.appendChild(l),t.appendChild(i)},n.prototype._updateCaptcha=function(t){var e=(new Date).getTime(),i="/api/tool/captcha?"+String(e).slice(-8);t.target.src=i},n.prototype.showTip=function(t,e,i){this.destroy();var n=document.createElement("div");n.id="submit-tip";var o=document.createElement("img");o.id="submit-tip-icon",o.src=t.tipIconSrc;var a=document.createElement("div");a.id="submit-tip-content-wrapper";var s=document.createElement("div");s.id="submit-tip-title",s.innerHTML=t.tipTitle;var r=document.createElement("div");r.id="fail"===i?"submit-tip-fail-content":"submit-tip-success-content",r.innerHTML=t.tipContent,n.appendChild(o),n.appendChild(a),a.appendChild(s),a.appendChild(r),e.appendChild(n),this.options.isMobile||setTimeout(function(){$(n).addClass("enter")},150),setTimeout(function(){$(n).removeClass("enter"),setTimeout(function(){e.removeChild(n)},800)},5e3)},n.prototype.destroy=function(){this.mask&&(document.body.removeChild(this.mask),document.body.removeChild(this.modal),this.mask=null,this.modal=null),document.removeEventListener("click",this.destroy)},t.exports=n},1:function(t,e){},65:function(t,e,i){i(66),$(function(){function t(t){a(t.target)}function e(t){var e=/^((1[3,5,8][0-9])|(14[5,7])|(17[0,6,7,8])|(19[7]))\d{8}$/;a(t.target,e)}function n(t){var e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;a(t.target,e)}function o(t){a(t.target)}function a(t,e){var i=$(t),n=i.next(".message"),o=i.val().trim();e?e.test(o)?(i.addClass("input-correct-border").removeClass("input-error-border"),n.find(".correct-msg").show(),n.find(".error-msg").hide()):(i.addClass("input-error-border").removeClass("input-correct-border"),n.find(".error-msg").show(),n.find(".correct-msg").hide()):""!==o?(i.addClass("input-correct-border").removeClass("input-error-border"),n.find(".correct-msg").show(),n.find(".error-msg").hide()):(i.addClass("input-error-border").removeClass("input-correct-border"),n.find(".error-msg").show(),n.find(".correct-msg").hide())}function s(t){var e=$(this);e.hasClass("checked")||(e.addClass("checked"),$(".company-evaluation").show(),b.removeClass("checked"),w.prop("placeholder",k))}function r(){var t=$(this);t.hasClass("checked")||(t.addClass("checked"),$(".company-evaluation").hide(),y.removeClass("checked"),w.prop("placeholder",C))}function d(t){var e=$(t.target),i=e.siblings().addBack(),n=e.prevAll(),o=i.filter(".checked");i.removeClass("checked"),n.add(e).length!==o.length&&n.add(e).addClass("checked")}function c(t){t.preventDefault();var e=m.val().trim(),i=g.val().trim(),n=v.val().trim(),o=f.val().trim();if(!e)return m.blur(),void m.focus();if(!n)return v.blur(),void v.focus();if(!i)return g.blur(),void g.focus();if(!o)return f.blur(),void f.focus();var a=document.documentElement.clientWidth<=960;h.setOptions({isMobile:a,opacity:.2,width:550,height:296,isCaptcha:!0,onSendRequest:p}),h.show()}function p(t,e){var i=m.val().trim(),n=g.val().trim(),o=v.val().trim(),a=f.val().trim(),s=w.val(),r={nickname:i,email:n,phone:o,company:a,captcha:t};if(s&&(r.description=s),$("#used").hasClass("checked")){var d=$(".stars"),c=d.eq(0).find(".checked").length,p=d.eq(1).find(".checked").length,l=d.eq(2).find(".checked").length,h=d.eq(3).find(".checked").length;r.evaluation=[c,p,l,h].join()}$.ajax({type:"POST",url:"/apply/api/private-cloud",data:r}).done(function(t){var i={tipIconSrc:"/static/assets/page-views/train/train-apply/checked.png",tipTitle:"申请成功",tipContent:"同方有云已收到您的申请"},n=document.getElementsByClassName("main-content")[0];e(i,n,"success")}).fail(function(t){var i={tipIconSrc:"/static/assets/page-views/train/train-apply/warning.png",tipTitle:"申请失败",tipContent:"同方有云没有收到您的申请"},n=document.getElementsByClassName("main-content")[0];e(i,n,"fail")})}var l=i(0),h=new l,u=$("#application-form"),m=u.find("#name"),f=u.find("#company"),v=u.find("#phone"),g=u.find("#email"),x=u.find("#submitBtn"),y=u.find("#used"),b=u.find("#didNotUse"),k=u.find("#usedHolder").text(),C=u.find("#didNotUseHolder").text(),w=u.find("#appendInfo"),E=u.find(".stars");m.on("blur",t),v.on("blur",e),g.on("blur",n),f.on("blur",o),y.on("click",s),b.on("click",r),x.on("click",c),E.on("click",".icon-star",d)})},66:function(t,e){}});